extends layout

block append head
  script(type='text/javascript', src='/dronestream/nodecopter-client.js')
  script(type='text/javascript', src='/js/horizon.js')
  script(type='text/javascript', src='/js/compass.js')
  script(type='text/javascript', src='/js/gauge.js')
  script(type='text/javascript', src='/js/cockpit.js')

-# for developing the client, use those url:s
-# script(type='text/javascript', src='/dronestream/vendor/broadway/sylvester.js')
-# script(type='text/javascript', src='/dronestream/vendor/broadway/glUtils.js')
-# script(type='text/javascript', src='/dronestream/vendor/broadway/util.js')
-# script(type='text/javascript', src='/dronestream/vendor/broadway/avc-codec.js')
-# script(type='text/javascript', src='/dronestream/vendor/broadway/avc.js')
-# script(type='text/javascript', src='/dronestream/vendor/broadway/canvas.js')
-# script(type='text/javascript', src='/dronestream/nodecopter-stream.js')
-# concatenated version of client


block append bodyscripts
  script
    var cockpit = new NodecopterCockpit(
      '#dronestream',
      '.compass.clip',
      'canvas.horizon',
      'batterygauge'
    );

block content
  .cockpit
    canvas#horizon.gauge.horizon(width=640, height=360)
    #dronestream(width=640, height=360)
    .compass.clip(style='width:640px; height:30px;')
  canvas#batterygauge.gauge.battery

